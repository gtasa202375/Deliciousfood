# ç¾é£Ÿä½³è‚´ (MÄ›ishÃ­ JiÄyÃ¡o) - æ‚¨çš„æ™ºèƒ½èœè°±ä¼´ä¾£

ç¾é£Ÿä½³è‚´æ˜¯ä¸€ä¸ªç°ä»£ã€ç¾è§‚ä¸”åŠŸèƒ½ä¸°å¯Œçš„èœè°±åº”ç”¨ã€‚å®ƒä¸ä»…èƒ½å¸®åŠ©æ‚¨å‘ç°å’Œç®¡ç†æ•°åƒç§ç¾å‘³é£Ÿè°±ï¼Œè¿˜é›†æˆäº†å¼ºå¤§çš„ AI åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®æ‚¨æ‰‹å¤´çš„é£Ÿææ™ºèƒ½æ¨èèœè‚´ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½ (Key Features)

*   **æµè§ˆèœè°±**: æŒ‰â€œå®¶å¸¸èœâ€ã€â€œå¿«æ‰‹èœâ€ç­‰åˆ†ç±»æ¸…æ™°åœ°æµè§ˆèœè°±ã€‚
*   **æ™ºèƒ½æœç´¢**: æŒ‰èœè°±åç§°æˆ–é£Ÿæå¿«é€Ÿæ‰¾åˆ°æ‚¨æƒ³è¦çš„é£Ÿè°±ã€‚
*   **AI æ™ºèƒ½æ¨è**: è¾“å…¥æ‚¨æ‹¥æœ‰çš„é£Ÿæï¼Œè®© AI ä¸ºæ‚¨é‡èº«æ‰“é€ ä¸€é“ç¾å‘³ä½³è‚´ã€‚
*   **æ”¶è—å¤¹**: å°†æ‚¨å–œæ¬¢çš„èœè°±ä¿å­˜åœ¨æœ¬åœ°ï¼Œæ–¹ä¾¿éšæ—¶æŸ¥çœ‹ã€‚
*   **åˆ†äº«åŠŸèƒ½**: é€šè¿‡é“¾æ¥è½»æ¾å°†æ‚¨å–œçˆ±çš„èœè°±åˆ†äº«ç»™æœ‹å‹å’Œå®¶äººã€‚
*   **èœè°±è¯¦æƒ…**: æŸ¥çœ‹åŒ…å«å‡†å¤‡æ—¶é—´ã€çƒ¹é¥ªæ—¶é—´ã€ä»½é‡ã€è¯¦ç»†é…æ–™å’Œæ­¥éª¤çš„å®Œæ•´èœè°±ä¿¡æ¯ã€‚
*   **å“åº”å¼è®¾è®¡**: æ— è®ºåœ¨æ¡Œé¢ç”µè„‘è¿˜æ˜¯æ‰‹æœºä¸Šï¼Œéƒ½èƒ½è·å¾—å®Œç¾çš„è§†è§‰å’Œä½¿ç”¨ä½“éªŒã€‚
*   **ç²¾ç¾ UI**: åŸºäº ShadCN UI å’Œ Tailwind CSS æ„å»ºï¼Œç•Œé¢ç°ä»£ã€ä¼˜é›…ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ (Tech Stack)

*   **å‰ç«¯æ¡†æ¶**: [Next.js](https://nextjs.org/) (ä½¿ç”¨ App Router)
*   **è¯­è¨€**: [TypeScript](https://www.typescriptlang.org/)
*   **UI ç»„ä»¶åº“**: [ShadCN UI](https://ui.shadcn.com/)
*   **æ ·å¼**: [Tailwind CSS](https://tailwindcss.com/)
*   **AI åŠŸèƒ½**: [Google AI (Gemini)](https://ai.google/discover/gemini/) via [Genkit](https://firebase.google.com/docs/genkit)
*   **éƒ¨ç½²**: [Firebase App Hosting](https://firebase.google.com/docs/app-hosting) / VPS

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Getting Started)

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤åœ¨æ‚¨çš„æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œæ­¤é¡¹ç›®ã€‚

### 1. å…ˆå†³æ¡ä»¶

*   [Node.js](https://nodejs.org/) (å»ºè®®ä½¿ç”¨ v18 æˆ–æ›´é«˜ç‰ˆæœ¬)
*   [pnpm](https://pnpm.io/installation) (æˆ–ä½¿ç”¨ npm/yarn)

### 2. å…‹éš†é¡¹ç›®

å°†é¡¹ç›®å…‹éš†åˆ°æ‚¨çš„æœ¬åœ°è®¾å¤‡ï¼š

```bash
git clone https://github.com/your-username/your-repository-name.git
cd your-repository-name
```

### 3. å®‰è£…ä¾èµ–

å®‰è£…é¡¹ç›®æ‰€éœ€çš„æ‰€æœ‰ä¾èµ–é¡¹ï¼š

```bash
pnpm install
```

### 4. è®¾ç½®ç¯å¢ƒå˜é‡

AI åŠŸèƒ½éœ€è¦ Google AI API å¯†é’¥ã€‚

1.  å¤åˆ¶ `.env.example` æ–‡ä»¶å¹¶é‡å‘½åä¸º `.env`:
    ```bash
    cp .env.example .env
    ```
2.  åœ¨ `.env` æ–‡ä»¶ä¸­ï¼Œå°† `YOUR_API_KEY` æ›¿æ¢ä¸ºæ‚¨çš„çœŸå® Google AI API å¯†é’¥ã€‚æ‚¨å¯ä»¥ä» [Google AI Studio](https://aistudio.google.com/app/apikey) è·å–ã€‚
    ```
    GEMINI_API_KEY=YOUR_API_KEY
    ```

> **æ³¨æ„**: å¦‚æœæ‚¨æ²¡æœ‰æœ‰æ•ˆçš„ç»“ç®—è´¦æˆ·ï¼ŒAI å›¾åƒç”ŸæˆåŠŸèƒ½å°†ä¸å¯ç”¨ï¼Œä½†åº”ç”¨ä¼šä¼˜é›…åœ°å›é€€ï¼Œä¸ä¼šå½±å“å…¶ä»–åŠŸèƒ½çš„ä½¿ç”¨ã€‚

### 5. è¿è¡Œå¼€å‘æœåŠ¡å™¨

ç°åœ¨ï¼Œå¯åŠ¨ Next.js å¼€å‘æœåŠ¡å™¨ï¼š

```bash
pnpm run dev
```

åœ¨æ‚¨çš„æµè§ˆå™¨ä¸­æ‰“å¼€ [http://localhost:9002](http://localhost:9002) å³å¯çœ‹åˆ°æ­£åœ¨è¿è¡Œçš„åº”ç”¨ã€‚

## â˜ï¸ éƒ¨ç½²æ•™ç¨‹ (Deployment Guide)

æ‚¨å¯ä»¥é€‰æ‹© Firebase App Hosting æä¾›çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æ›´çµæ´»çš„è½»é‡æœåŠ¡å™¨ï¼ˆVPSï¼‰æ‰‹åŠ¨éƒ¨ç½²ã€‚

### 1. ä½¿ç”¨ Firebase App Hosting (æ¨è)

Firebase App Hosting ä¸ GitHub é›†æˆï¼Œå¯ä»¥å®ç°æŒç»­éƒ¨ç½² (CI/CD)ã€‚æ‚¨åªéœ€å°†ä»£ç æ¨é€åˆ° GitHubï¼ŒFirebase å°±ä¼šè‡ªåŠ¨ä¸ºæ‚¨æ„å»ºå’Œéƒ¨ç½²æ–°ç‰ˆæœ¬ã€‚

1.  **åˆ›å»ºä¸€ä¸ª Firebase é¡¹ç›®**:
    *   è®¿é—® [Firebase æ§åˆ¶å°](https://console.firebase.google.com/) å¹¶åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚

2.  **å°†æ‚¨çš„åº”ç”¨è¿æ¥åˆ° Firebase**:
    *   æŒ‰ç…§ Firebase Studio çš„æŒ‡å¼•æˆ–å®˜æ–¹æ–‡æ¡£å°†æ‚¨çš„ GitHub ä»“åº“è¿æ¥åˆ° Firebase App Hostingã€‚æ‚¨éœ€è¦æˆæƒ Firebase è®¿é—®æ‚¨çš„ä»“åº“ã€‚

3.  **è§¦å‘éƒ¨ç½²**:
    *   è®¾ç½®å®Œæˆåï¼Œæ¯å½“æ‚¨å°†æ–°çš„æäº¤æ¨é€åˆ°ä¸»åˆ†æ”¯ (`main` æˆ– `master`) æ—¶ï¼ŒFirebase App Hosting éƒ½ä¼šè‡ªåŠ¨å¼€å§‹ä¸€ä¸ªæ–°çš„æ„å»ºå’Œéƒ¨ç½²æµç¨‹ã€‚
    *   æ‚¨å¯ä»¥åœ¨ Firebase æ§åˆ¶å°çš„ "App Hosting" éƒ¨åˆ†æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€å’Œå†å²è®°å½•ã€‚

### 2. åœ¨è½»é‡æœåŠ¡å™¨ (VPS) ä¸Šéƒ¨ç½²

å¦‚æœæ‚¨å¸Œæœ›å¯¹éƒ¨ç½²ç¯å¢ƒæœ‰å®Œå…¨çš„æ§åˆ¶ï¼Œå¯ä»¥å°†å…¶éƒ¨ç½²åˆ°ä»»ä½• Linux è½»é‡æœåŠ¡å™¨ä¸Šã€‚

**å…ˆå†³æ¡ä»¶**:
*   ä¸€å°æ‹¥æœ‰ root æƒé™çš„è½»é‡æœåŠ¡å™¨ (ä¾‹å¦‚ï¼Œæ¥è‡ªé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€DigitalOcean, Vultr ç­‰)ã€‚
*   æœåŠ¡å™¨ä¸Šå®‰è£…äº† `Node.js` (v18+) å’Œ `git`ã€‚
*   (æ¨è) ä¸€ä¸ªåŸŸåæŒ‡å‘æ‚¨çš„æœåŠ¡å™¨ IPã€‚
*   (æ¨è) å®‰è£…äº† `Nginx` å’Œ `PM2`ã€‚

**éƒ¨ç½²æ­¥éª¤**:

1.  **è¿æ¥åˆ°æ‚¨çš„æœåŠ¡å™¨**:
    ```bash
    ssh root@YOUR_SERVER_IP
    ```

2.  **å®‰è£… Node.js å’Œ pnpm**:
    æ¨èä½¿ç”¨ `nvm` æ¥ç®¡ç† Node.js ç‰ˆæœ¬ã€‚
    ```bash
    # å®‰è£… nvm
    curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
    # ä½¿ nvm å‘½ä»¤ç”Ÿæ•ˆ
    source ~/.bashrc
    # å®‰è£… Node.js v18
    nvm install 18
    # å®‰è£… pnpm
    npm install -g pnpm
    ```

3.  **å…‹éš†ä»£ç å¹¶å®‰è£…ä¾èµ–**:
    ```bash
    git clone https://github.com/your-username/your-repository-name.git
    cd your-repository-name
    pnpm install
    ```

4.  **è®¾ç½®ç¯å¢ƒå˜é‡**:
    åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `.env.local` æ–‡ä»¶ï¼Œå¹¶å¡«å…¥æ‚¨çš„ API å¯†é’¥ã€‚
    ```bash
    echo "GEMINI_API_KEY=YOUR_API_KEY" > .env.local
    ```

5.  **æ„å»ºåº”ç”¨**:
    ```bash
    pnpm build
    ```
    è¿™ä¼šä¸ºç”Ÿäº§ç¯å¢ƒä¼˜åŒ–å¹¶æ‰“åŒ…æ‚¨çš„åº”ç”¨ã€‚

6.  **ä½¿ç”¨ PM2 è¿è¡Œåº”ç”¨**:
    PM2 æ˜¯ä¸€ä¸ªå¼ºå¤§çš„è¿›ç¨‹ç®¡ç†å™¨ï¼Œå¯ä»¥ç¡®ä¿æ‚¨çš„åº”ç”¨åœ¨åå°æŒç»­è¿è¡Œï¼Œå¹¶åœ¨å´©æºƒæ—¶è‡ªåŠ¨é‡å¯ã€‚
    ```bash
    # å…¨å±€å®‰è£… PM2
    pnpm add global pm2
    # å¯åŠ¨åº”ç”¨
    # Next.js é»˜è®¤åœ¨ 3000 ç«¯å£å¯åŠ¨
    pm2 start pnpm --name "meishi-app" -- start
    ```

7.  **(æ¨è) é…ç½® Nginx åå‘ä»£ç†**:
    ä½¿ç”¨ Nginx å¯ä»¥è®©æ‚¨è½»æ¾åœ°é€šè¿‡åŸŸå (ä¾‹å¦‚ `https://your-domain.com`) è®¿é—®åº”ç”¨ï¼Œè€Œä¸æ˜¯é€šè¿‡ IP åœ°å€å’Œç«¯å£å·ã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿä¾¿äºé…ç½® SSL/TLS åŠ å¯†ã€‚

    *   åˆ›å»ºä¸€ä¸ªæ–°çš„ Nginx é…ç½®æ–‡ä»¶:
        ```bash
        sudo nano /etc/nginx/sites-available/meishi-app
        ```
    *   å°†ä»¥ä¸‹é…ç½®ç²˜è´´è¿›å» (å°† `your-domain.com` æ›¿æ¢ä¸ºæ‚¨çš„åŸŸå):
        ```nginx
        server {
            listen 80;
            server_name your-domain.com;

            location / {
                proxy_pass http://localhost:3000;
                proxy_http_version 1.1;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection 'upgrade';
                proxy_set_header Host $host;
                proxy_cache_bypass $http_upgrade;
            }
        }
        ```
    *   å¯ç”¨è¯¥é…ç½®å¹¶é‡å¯ Nginx:
        ```bash
        sudo ln -s /etc/nginx/sites-available/meishi-app /etc/nginx/sites-enabled/
        sudo nginx -t  # æµ‹è¯•é…ç½®æ˜¯å¦æ­£ç¡®
        sudo systemctl restart nginx
        ```
    *   æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ `Certbot` ä¸ºæ‚¨çš„åŸŸåå…è´¹æ·»åŠ  SSL è¯ä¹¦ï¼Œå®ç° HTTPS è®¿é—®ã€‚

### ä»æ‰‹æœºéƒ¨ç½²

ç›´æ¥ä»æ‰‹æœºè¿›è¡Œä»£ç éƒ¨ç½²æ˜¯ä¸å¸¸è§çš„åšæ³•ï¼Œå› ä¸ºéƒ¨ç½²é€šå¸¸éœ€è¦ä¸€ä¸ªå®‰å…¨çš„ã€é…ç½®å¥½çš„ç¯å¢ƒ (å¦‚æ‚¨çš„ç”µè„‘æˆ– CI/CD æœåŠ¡)ã€‚

ç„¶è€Œï¼Œæ‚¨å¯ä»¥é€šè¿‡æ‰‹æœº**è§¦å‘**ä¸€ä¸ªå·²ç»è®¾ç½®å¥½çš„è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹ï¼š

1.  **ä½¿ç”¨ GitHub ç§»åŠ¨ç‰ˆ**: åœ¨æ‚¨çš„æ‰‹æœºä¸Šå®‰è£… [GitHub ç§»åŠ¨åº”ç”¨](https://github.com/mobile)ã€‚
2.  **åˆå¹¶æ‹‰å–è¯·æ±‚ (Pull Request)**: å¦‚æœæ‚¨çš„å·¥ä½œæµé…ç½®ä¸ºåœ¨åˆå¹¶åˆ°ä¸»åˆ†æ”¯æ—¶è§¦å‘éƒ¨ç½² (ä¾‹å¦‚ä½¿ç”¨ Firebase App Hosting æˆ– GitHub Actions)ï¼Œæ‚¨å¯ä»¥åœ¨æ‰‹æœºä¸Šå®¡æ ¸å¹¶åˆå¹¶ä¸€ä¸ª PRã€‚è¿™ä¼šè‡ªåŠ¨å¯åŠ¨éƒ¨ç½²æµç¨‹ã€‚
3.  **æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€**: æ‚¨éšåå¯ä»¥åœ¨æ‰‹æœºæµè§ˆå™¨ä¸­è®¿é—® Firebase æ§åˆ¶å°æˆ–æ‚¨çš„æœåŠ¡å™¨æ—¥å¿—ï¼Œç›‘æ§éƒ¨ç½²çš„è¿›åº¦å’Œç»“æœã€‚

è¿™ç§æ–¹å¼åˆ©ç”¨äº† CI/CD çš„å¼ºå¤§åŠŸèƒ½ï¼Œè®©æ‚¨å³ä½¿ä¸åœ¨ç”µè„‘å‰ä¹Ÿèƒ½è½»æ¾ç®¡ç†æ‚¨çš„åº”ç”¨å‘å¸ƒã€‚

---

ç¥æ‚¨ç¼–ç æ„‰å¿«ï¼
